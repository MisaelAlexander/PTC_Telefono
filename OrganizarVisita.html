<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agendar Cita - Casa Moderna Los Pinos</title>
    <link rel="stylesheet" href="CSS/OrganizarVisitia.css">
</head>
<body>
    <div class="app-container">
        <div class="main-container">
            <!-- Header -->
            <header class="header">
    <a href="#" onclick="history.back(); return false;" class="back">&#x276E;</a>
    <h2>ORGANIZAR VISITAS</h2>
            </header>

            <!-- Property Summary -->
            <div class="property-summary">
                <div class="property-image">
                    <img src="https://images.unsplash.com/photo-1564013799919-ab600027ffc6?w=64&h=64&fit=crop&crop=center" alt="Casa Moderna Los Pinos">
                </div>
                <div class="property-details">
                    <h2>Casa Moderna Los Pinos</h2>
                    <p>Colonia Los Pinos, San Salvador</p>
                </div>
            </div>

            <form class="appointment-form" id="appointmentForm">
                <!-- Date Selection -->
                <div class="form-section">
                    <div class="section-header">
                        <svg class="section-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect width="18" height="18" x="3" y="4" rx="2" ry="2"/>
                            <line x1="16" x2="16" y1="2" y2="6"/>
                            <line x1="8" x2="8" y1="2" y2="6"/>
                            <line x1="3" x2="21" y1="10" y2="10"/>
                        </svg>
                        <h3>Selecciona la Fecha</h3>
                    </div>

                    <!-- Legend -->
                    <div class="legend">
                        <p class="legend-title">Leyenda:</p>
                        <div class="legend-items">
                            <div class="legend-item">
                                <div class="legend-color today-legend"></div>
                                <span>Hoy</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color selected-legend"></div>
                                <span>Seleccionado</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color partial-legend"></div>
                                <span>Parcialmente ocupado</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color occupied-legend"></div>
                                <span>Ocupado</span>
                            </div>
                        </div>
                    </div>

                    <!-- Calendar -->
                    <div class="calendar-container">
                        <div class="calendar-header">
                            <button type="button" class="nav-btn" id="prevMonth">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="m15 18-6-6 6-6"/>
                                </svg>
                            </button>
                            <span class="month-year" id="monthYear">Enero 2024</span>
                            <button type="button" class="nav-btn" id="nextMonth">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="m9 18 6-6-6-6"/>
                                </svg>
                            </button>
                        </div>

                        <div class="calendar-grid">
                            <div class="day-header">Dom</div>
                            <div class="day-header">Lun</div>
                            <div class="day-header">Mar</div>
                            <div class="day-header">Mié</div>
                            <div class="day-header">Jue</div>
                            <div class="day-header">Vie</div>
                            <div class="day-header">Sáb</div>
                            <!-- Calendar days will be generated by JavaScript -->
                        </div>
                    </div>
                </div>

                <!-- Time Selection -->
                <div class="form-section">
                    <div class="section-header">
                        <svg class="section-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <polyline points="12,6 12,12 16,14"/>
                        </svg>
                        <h3>Selecciona la Hora</h3>
                        <span class="available-count" id="availableCount"></span>
                    </div>

                    <div class="time-selection-area">
                        <div class="no-date-selected" id="noDateMessage">
                            <svg class="clock-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"/>
                                <polyline points="12,6 12,12 16,14"/>
                            </svg>
                            <p>Primero selecciona una fecha</p>
                        </div>

                        <div class="time-slots" id="timeSlots" style="display: none;">
                            <button type="button" class="time-slot" data-time="09:00">9:00 AM</button>
                            <button type="button" class="time-slot" data-time="10:00">10:00 AM</button>
                            <button type="button" class="time-slot" data-time="11:00">11:00 AM</button>
                            <button type="button" class="time-slot" data-time="14:00">2:00 PM</button>
                            <button type="button" class="time-slot" data-time="15:00">3:00 PM</button>
                            <button type="button" class="time-slot" data-time="16:00">4:00 PM</button>
                            <button type="button" class="time-slot" data-time="17:00">5:00 PM</button>
                            <button type="button" class="time-slot" data-time="18:00">6:00 PM</button>
                        </div>
                    </div>
                </div>

              

                <!-- Visit Type -->
                <div class="form-section">
                    <div class="section-header">
                        <svg class="section-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/>
                            <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/>
                        </svg>
                        <h3>Tipo de Visita</h3>
                    </div>
                    <div class="visit-types">
                        <label class="visit-option">
                            <input type="radio" name="visitType" value="individual" checked>
                            <div class="option-content">
                                <span class="option-title">Visita Individual</span>
                                <span class="option-desc">Solo tú o tu familia</span>
                            </div>
                        </label>
                        <label class="visit-option">
                            <input type="radio" name="visitType" value="group">
                            <div class="option-content">
                                <span class="option-title">Visita Grupal</span>
                                <span class="option-desc">Con otras personas interesadas</span>
                            </div>
                        </label>
                    </div>
                </div>

                <!-- Notes -->
                <div class="form-section">
                    <div class="section-header">
                        <svg class="section-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                            <polyline points="14,2 14,8 20,8"/>
                            <line x1="16" x2="8" y1="13" y2="13"/>
                            <line x1="16" x2="8" y1="17" y2="17"/>
                            <polyline points="10,9 9,9 8,9"/>
                        </svg>
                        <h3>Notas Adicionales (Opcional)</h3>
                    </div>
                    <div class="form-group">
                        <textarea id="notes" name="notes" placeholder="¿Hay algo específico que te gustaría saber sobre la propiedad? ¿Tienes alguna pregunta especial?"></textarea>
                    </div>
                </div>

                <!-- Appointment Summary -->
                <div class="appointment-summary" id="appointmentSummary" style="display: none;">
                    <h3>Resumen de tu Cita</h3>
                    <div class="summary-content">
                        <div class="summary-item">
                            <span class="summary-label">Fecha:</span>
                            <span class="summary-value" id="summaryDate">-</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">Hora:</span>
                            <span class="summary-value" id="summaryTime">-</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">Tipo:</span>
                            <span class="summary-value" id="summaryType">-</span>
                        </div>
                    </div>
                </div>

                <!-- Submit Button -->
                <div class="form-actions">
                    <button type="submit" class="confirm-btn" id="confirmBtn" disabled>
                        <span id="btnText">Confirmar Cita</span>
                        <svg id="btnSpinner" class="spinner" style="display: none;" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 12a9 9 0 11-6.219-8.56"/>
                        </svg>
                    </button>
                </div>
            </form>
        </div>
    </div>
<!-- Notificación flotante -->
  <div id="notificacion" class="notificacion">
    <p id="notificacionMensaje"></p>
  </div>
    <script type="module" src="JS/Controller/CrearVisitaController.js"></script>
</body>
</html>